(this.webpackJsonphierarchy=this.webpackJsonphierarchy||[]).push([[0],{142:function(e,t,n){e.exports=n(196)},147:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(48),c=n.n(i),s=(n(147),n(119)),o=n(10),l=n.n(o),u=n(14),h=n(11),d=n(225),f=n(236),p=n(229),m=n(227),v=n(228),g=n(233),y=n(230),b=n(198),k=n(124),j=n.n(k),O=n(232),w=n(120),E=n.n(w),x=n(93),I=n.n(x),A=n(135),M=n(20),z=(n(156),{$schema:"https://vega.github.io/schema/vega/v5.json",description:"An example of Cartesian layouts for a node-link diagram of hierarchical data.",width:600,height:1600,padding:5,signals:[],data:[{name:"tree",transform:[{type:"stratify",key:"id",parentKey:"parent"},{type:"tree",method:"tidy",size:[{signal:"height"},{signal:"width - 100"}],separation:!1,as:["y","x","depth","children"]}]},{name:"links",source:"tree",transform:[{type:"treelinks"},{type:"linkpath",orient:"horizontal",shape:"diagonal"}]}],scales:[{name:"color",type:"linear",range:{scheme:"magma"},domain:{data:"tree",field:"depth"},zero:!0}],marks:[{type:"path",from:{data:"links"},encode:{update:{path:{field:"path"},stroke:{value:"#ccc"}}}},{type:"symbol",from:{data:"tree"},encode:{enter:{size:{value:100},stroke:{value:"#fff"}},update:{x:{field:"x"},y:{field:"y"},fill:{scale:"color",field:"depth"}}}},{type:"text",from:{data:"tree"},encode:{enter:{text:{field:"name"},fontSize:{value:9},baseline:{value:"middle"}},update:{x:{field:"x"},y:{field:"y"},dx:{signal:"datum.children ? -7 : 7"},align:{signal:"datum.children ? 'right' : 'left'"}}}}]}),N=n(23),S=n(28),T=n(8),B=n(7),C=n(1),D=n(5),R=n(6),J=n(222),q=n(237),G=n(223),H=n(235),F=n(231),K=n(234),L=n(224),U=function(){function e(t,n,a,r){Object(D.a)(this,e),this.id=void 0,this.name=void 0,this.predecessors=void 0,this.successors=void 0,this.id=t,this.name=n,this.predecessors=null!==a&&void 0!==a?a:[],this.successors=null!==r&&void 0!==r?r:[]}return Object(R.a)(e,[{key:"depth",value:function(e){if(!this.isAcyclic)return 1/0;if(void 0!==e){var t=e[this.id];if(void 0!==t)return t}var n=this.predecessors.length>0?Object(J.a)(Math.min,this.predecessors.map((function(t){return t.depth(e)})))+1:1;return void 0!==e&&(e[this.id]=n),n}},{key:"pathTo",value:function(e,t){if(void 0===t&&(t=[]),0===this.successors.length)return null;var n,a=Object(C.a)(this.successors);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(r===e)return[this,r];if(t.includes(r))return null;t.push(r);var i=r.pathTo(e,t);if(null!==i)return[this].concat(i)}}catch(c){a.e(c)}finally{a.f()}return null}},{key:"isDescendant",value:function(e){var t=this;return e===this||e.successors.filter((function(e){return t.isDescendant(e)})).length>0}},{key:"descendants",get:function(){return this.successors.concat(Object(q.a)(this.successors.map((function(e){return e.descendants}))))}},{key:"isAcyclic",get:function(){if(null!==this.pathTo(this))return!1;var e,t=Object(C.a)(this.successors);try{for(t.s();!(e=t.n()).done;){if(!e.value.isAcyclic)return!1}}catch(n){t.e(n)}finally{t.f()}return!0}}]),e}(),W=function(){function e(t){Object(D.a)(this,e),this.vertices=void 0,this.vertices=t}return Object(R.a)(e,[{key:"depth",get:function(){if(!this.isAcyclic)return 1/0;var e={};return Object(J.a)(Math.max,this.vertices.map((function(t){return t.depth(e)})))}},{key:"breadth",get:function(){return this.vertices.filter((function(e){return 0===e.successors.length})).length}},{key:"data",get:function(){var e=this;return this.isTree||this.isMultiTree?this.roots.map((function(t){return e.vertices.filter((function(e){return e.isDescendant(t)})).map((function(e){var t;return{id:e.id,name:e.name,parent:null===(t=e.predecessors[0])||void 0===t?void 0:t.id}}))})):[]}},{key:"roots",get:function(){return this.vertices.filter((function(e){return 0===e.predecessors.length}))}},{key:"isTree",get:function(){return 1===this.roots.length&&!(this.vertices.filter((function(e){return e.predecessors.length>1})).length>0)}},{key:"isMultiTree",get:function(){return!(this.roots.length<2)&&!(this.vertices.filter((function(e){return e.predecessors.length>1})).length>0)}},{key:"isAcyclic",get:function(){return 0===this.vertices.length||0!==this.roots.length&&(1!==this.roots.length||this.roots[0].isAcyclic)}}]),e}(),P=function(e){Object(B.a)(n,e);var t=Object(T.a)(n);function n(e){var a;if(Object(D.a)(this,n),!(a=t.call(this,e)).isTree)throw new Error("invalid tree");return a}return Object(R.a)(n,[{key:"data",get:function(){return Object(S.a)(Object(N.a)(n.prototype),"data",this)[0]}}],[{key:"fromRoot",value:function(e){return new n([e].concat(e.descendants))}}]),n}(W);function V(e){var t=e.split("->").map((function(e){return e.trim()}));return Object(G.a)(t,Object(H.a)(1,1/0,t))}n(159);var Y=Object(d.a)((function(e){return Object(f.a)({root:{height:"100vh",display:"flex",flexDirection:"column"},appBar:{backgroundColor:"#fff",color:"#000"},saveButton:{marginLeft:e.spacing(6)},main:{flexGrow:1,flexDirection:"row-reverse",overflow:"auto",padding:e.spacing(1)},pane:{height:"100%"},paper:{color:e.palette.text.secondary,height:"100%",overflow:"auto"}})}));I.a.initializeApp({apiKey:"AIzaSyAcRmmHUN_Yyqd0al0MSvRz82kIbrHvh-8",authDomain:"hierarchy-28591.firebaseapp.com",databaseURL:"https://hierarchy-28591.firebaseio.com",projectId:"hierarchy-28591",storageBucket:"hierarchy-28591.appspot.com",messagingSenderId:"761635818549",appId:"1:761635818549:web:b6d6fecfd7747c6345f57c",measurementId:"G-TJJF0BJ57G"});var $=I.a.firestore();function _(){return r.a.createElement(A.a,null,r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/:docId",render:function(e){var t=e.match;return r.a.createElement(X,{docId:t.params.docId})}}),r.a.createElement(M.b,{path:"/",render:function(){return r.a.createElement(X,{docId:"default"})}})))}function Q(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}function X(e){var t=e.docId,n=Object(a.useState)(""),i=Object(h.a)(n,2),c=i[0],s=i[1],o=Object(a.useState)(null),d=Object(h.a)(o,2),f=d[0],p=d[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.collection("graphs").doc(t).get();case 2:a=e.sent,r=null===(n=a.data())||void 0===n?void 0:n.graph,a.exists&&null!==r?(p(null),s(r.replace(/\\n/gi,"\n"))):p("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),null!==f?r.a.createElement(M.a,{to:f}):r.a.createElement(Z,{data:c,handleChange:s,handleSave:function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Q(6),e.next=3,$.collection("graphs").doc(n).set({graph:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}function Z(e){var t=e.data,n=e.handleChange,a=e.handleSave,i=Y(),c=function(e){var t,n=e.split("\n").map((function(e){return e.split(";")})).reduce(F.a,[]).map((function(e){return e.trim()})).filter((function(e){return""!==e})).map(V).reduce(F.a,[]),a={},r=-1,i=Object(C.a)(Object(K.a)(n));try{for(i.s();!(t=i.n()).done;){var c,s,o=Object(h.a)(t.value,2),l=o[0],u=o[1],d=null===(c=a[l])||void 0===c?void 0:c.id,f=null===(s=a[u])||void 0===s?void 0:s.id;void 0===d&&(d=++r,a[l]=new U(d,l)),void 0===f?(f=++r,a[u]=new U(f,u,[a[l]])):a[u].predecessors.push(a[l]),a[l].successors.push(a[u])}}catch(p){i.e(p)}finally{i.f()}return new W(Object(L.a)(a))}(t);return r.a.createElement("div",{className:i.root},r.a.createElement(m.a,{position:"static",className:i.appBar,elevation:1},r.a.createElement(v.a,null,r.a.createElement(p.a,{variant:"h6"},"Visualize Hierarchical Data"),r.a.createElement(g.a,{className:i.saveButton,onClick:function(){return a(t)}},r.a.createElement(j.a,null),"save"))),r.a.createElement(y.a,{container:!0,spacing:1,className:i.main},r.a.createElement(y.a,{item:!0,xs:12,md:8,className:i.pane},r.a.createElement(b.a,{variant:"outlined",className:i.paper,square:!0},r.a.createElement(r.a.Fragment,null,c.roots.map((function(e,t){var n=P.fromRoot(e),a=n.depth,i=a===1/0?600:120*a,c=n.breadth,o=c*(30*Math.pow(Math.E,-c/40)+7);return r.a.createElement(O.a,{key:t,spec:Object(s.a)({},z,{width:i,height:o}),data:{tree:n.data}})}))))),r.a.createElement(y.a,{item:!0,xs:12,md:4,className:i.pane},r.a.createElement(b.a,{variant:"outlined",className:i.paper,square:!0},r.a.createElement(E.a,{mode:"plain_text",placeholder:"Root -> Parent -> Child;",theme:"github",onChange:function(e){return n(e)},value:t,width:"100%",height:"100%"})))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[142,1,2]]]);
//# sourceMappingURL=main.2f1714c8.chunk.js.map