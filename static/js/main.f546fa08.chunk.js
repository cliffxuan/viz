(this.webpackJsonphierarchy=this.webpackJsonphierarchy||[]).push([[0],{139:function(e,t,a){e.exports=a(193)},144:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(47),c=a.n(i),o=(a(144),a(116)),l=a(10),s=a.n(l),u=a(14),d=a(11),h=a(222),p=a(233),m=a(226),f=a(224),v=a(225),g=a(230),y=a(227),b=a(195),E=a(121),w=a.n(E),x=a(229),j=a(117),k=a.n(j),O=a(90),I=a.n(O),z=a(132),N=a(20),S=(a(153),{$schema:"https://vega.github.io/schema/vega/v5.json",description:"An example of Cartesian layouts for a node-link diagram of hierarchical data.",width:600,height:1600,padding:5,signals:[],data:[{name:"tree",transform:[{type:"stratify",key:"id",parentKey:"parent"},{type:"tree",method:"tidy",size:[{signal:"height"},{signal:"width - 100"}],separation:!1,as:["y","x","depth","children"]}]},{name:"links",source:"tree",transform:[{type:"treelinks"},{type:"linkpath",orient:"horizontal",shape:"diagonal"}]}],scales:[{name:"color",type:"linear",range:{scheme:"magma"},domain:{data:"tree",field:"depth"},zero:!0}],marks:[{type:"path",from:{data:"links"},encode:{update:{path:{field:"path"},stroke:{value:"#ccc"}}}},{type:"symbol",from:{data:"tree"},encode:{enter:{size:{value:100},stroke:{value:"#fff"}},update:{x:{field:"x"},y:{field:"y"},fill:{scale:"color",field:"depth"}}}},{type:"text",from:{data:"tree"},encode:{enter:{text:{field:"name"},fontSize:{value:9},baseline:{value:"middle"}},update:{x:{field:"x"},y:{field:"y"},dx:{signal:"datum.children ? -7 : 7"},align:{signal:"datum.children ? 'right' : 'left'"}}}}]}),B=a(1),C=a(5),A=a(6),J=a(219),M=a(220),D=a(232),R=a(228),q=a(231),G=a(221),H=function(){function e(t,a,n){Object(C.a)(this,e),this.id=t,this.name=a,this.parent=n}return Object(A.a)(e,[{key:"depth",value:function(){return this.parent?this.parent.depth()+1:1}}]),e}(),K=function(){function e(t){Object(C.a)(this,e),this.vertices=void 0,this.vertices=t}return Object(A.a)(e,[{key:"depth",value:function(){return Object(J.a)(Math.max,this.vertices.map((function(e){return e.depth()})))}},{key:"size",value:function(){return this.vertices.length}},{key:"data",value:function(){return this.vertices.map((function(e){var t;return{id:e.id,name:e.name,parent:null===(t=e.parent)||void 0===t?void 0:t.id}}))}}]),e}();function L(e){var t=e.split("->").map((function(e){return e.trim()}));return Object(M.a)(t,Object(D.a)(1,1/0,t))}a(156);var U=Object(h.a)((function(e){return Object(p.a)({root:{height:"100vh",display:"flex",flexDirection:"column"},appBar:{backgroundColor:"#fff",color:"#000"},saveButton:{marginLeft:e.spacing(6)},main:{flexGrow:1,flexDirection:"row-reverse",overflow:"auto",padding:e.spacing(1)},pane:{height:"100%"},paper:{color:e.palette.text.secondary,height:"100%",overflow:"auto"}})}));I.a.initializeApp({apiKey:"AIzaSyAcRmmHUN_Yyqd0al0MSvRz82kIbrHvh-8",authDomain:"hierarchy-28591.firebaseapp.com",databaseURL:"https://hierarchy-28591.firebaseio.com",projectId:"hierarchy-28591",storageBucket:"hierarchy-28591.appspot.com",messagingSenderId:"761635818549",appId:"1:761635818549:web:b6d6fecfd7747c6345f57c",measurementId:"G-TJJF0BJ57G"});var W=I.a.firestore();function F(){return r.a.createElement(z.a,null,r.a.createElement(N.d,null,r.a.createElement(N.b,{path:"/:docId",render:function(e){var t=e.match;return r.a.createElement(T,{docId:t.params.docId})}}),r.a.createElement(N.b,{path:"/",render:function(){return r.a.createElement(T,{docId:"default"})}})))}function P(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t}function T(e){var t=e.docId,a=Object(n.useState)(""),i=Object(d.a)(a,2),c=i[0],o=i[1],l=Object(n.useState)(null),h=Object(d.a)(l,2),p=h[0],m=h[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.collection("graphs").doc(t).get();case 2:n=e.sent,r=null===(a=n.data())||void 0===a?void 0:a.graph,n.exists&&null!==r?(m(null),o(r.replace(/\\n/gi,"\n"))):m("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),null!==p?r.a.createElement(N.a,{to:p}):r.a.createElement(V,{data:c,handleChange:o,handleSave:function(){var e=Object(u.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P(6),e.next=3,W.collection("graphs").doc(a).set({graph:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}function V(e){var t=e.data,a=e.handleChange,n=e.handleSave,i=U(),c=function(e){var t,a=e.split("\n").map((function(e){return e.split(";")})).reduce(R.a,[]).map((function(e){return e.trim()})).filter((function(e){return""!==e})).map(L).reduce(R.a,[]),n={},r=-1,i=Object(B.a)(Object(q.a)(a));try{for(i.s();!(t=i.n()).done;){var c,o,l=Object(d.a)(t.value,2),s=l[0],u=l[1],h=null===(c=n[s])||void 0===c?void 0:c.id;void 0===h&&(h=++r,n[s]=new H(h,s));var p=null===(o=n[u])||void 0===o?void 0:o.id;void 0===p?(p=++r,n[u]=new H(p,u,n[s])):n[u].parent=n[s]}}catch(m){i.e(m)}finally{i.f()}return new K(Object(G.a)(n))}(t),l=120*c.depth(),s=c.size(),u=s*(s>200?7:.2*(235-s));return r.a.createElement("div",{className:i.root},r.a.createElement(f.a,{position:"static",className:i.appBar},r.a.createElement(v.a,null,r.a.createElement(m.a,{variant:"h6"},"Visualize Hierarchical Data"),r.a.createElement(g.a,{className:i.saveButton,onClick:function(){return n(t)}},r.a.createElement(w.a,null),"save"))),r.a.createElement(y.a,{container:!0,spacing:1,className:i.main},r.a.createElement(y.a,{item:!0,xs:12,md:8,className:i.pane},r.a.createElement(b.a,{variant:"outlined",className:i.paper,square:!0},r.a.createElement(x.a,{spec:Object(o.a)({},S,{width:l,height:u}),data:{tree:c.data()}}))),r.a.createElement(y.a,{item:!0,xs:12,md:4,className:i.pane},r.a.createElement(b.a,{variant:"outlined",className:i.paper,square:!0},r.a.createElement(k.a,{mode:"plain_text",placeholder:"Root -> Parent -> Child;",theme:"github",onChange:function(e){return a(e)},value:t,width:"100%",height:"100%"})))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.f546fa08.chunk.js.map