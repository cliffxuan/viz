(this.webpackJsonphierarchy=this.webpackJsonphierarchy||[]).push([[0],{139:function(e,a,t){e.exports=t(193)},144:function(e,a,t){},193:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t.n(n),c=t(47),i=t.n(c),o=(t(144),t(116)),l=t(10),s=t.n(l),d=t(14),u=t(11),p=t(220),h=t(231),m=t(225),f=t(222),v=t(223),g=t(224),y=t(228),b=t(195),E=t(121),x=t.n(E),O=t(227),k=t(117),j=t.n(k),w=t(90),S=t.n(w),I=t(132),C=t(19),_=(t(153),{$schema:"https://vega.github.io/schema/vega/v5.json",description:"An example of Cartesian layouts for a node-link diagram of hierarchical data.",width:600,height:1600,padding:5,signals:[],data:[{name:"tree",transform:[{type:"stratify",key:"id",parentKey:"parent"},{type:"tree",method:"tidy",size:[{signal:"height"},{signal:"width - 100"}],separation:!1,as:["y","x","depth","children"]}]},{name:"links",source:"tree",transform:[{type:"treelinks"},{type:"linkpath",orient:"horizontal",shape:"diagonal"}]}],scales:[{name:"color",type:"linear",range:{scheme:"magma"},domain:{data:"tree",field:"depth"},zero:!0}],marks:[{type:"path",from:{data:"links"},encode:{update:{path:{field:"path"},stroke:{value:"#ccc"}}}},{type:"symbol",from:{data:"tree"},encode:{enter:{size:{value:100},stroke:{value:"#fff"}},update:{x:{field:"x"},y:{field:"y"},fill:{scale:"color",field:"depth"}}}},{type:"text",from:{data:"tree"},encode:{enter:{text:{field:"name"},fontSize:{value:9},baseline:{value:"middle"}},update:{x:{field:"x"},y:{field:"y"},dx:{signal:"datum.children ? -7 : 7"},align:{signal:"datum.children ? 'right' : 'left'"}}}}]}),z=t(1),A=t(219),B=t(230),T=t(226),N=t(229);function P(e){var a,t={},n=-1,r=e.split("\n").map((function(e){return e.split(";")})).reduce(T.a,[]).map((function(e){return e.trim()})).filter((function(e){return""!==e})).map((function(e){return function(e){var a=e.split("->").map((function(e){return e.trim()}));return Object(A.a)(a,Object(B.a)(1,1/0,a))}(e)})).reduce(T.a,[]),c=[],i=Object(z.a)(Object(N.a)(r));try{for(i.s();!(a=i.n()).done;){var o=Object(u.a)(a.value,2),l=o[0],s=o[1],d=t[l];void 0===d&&(t[l]=d=++n,c.push({id:d,name:l}));var p=++n;t[s]=p,c.push({id:p,name:s,parent:d})}}catch(h){i.e(h)}finally{i.f()}return{tree:c}}t(156);var R=Object(p.a)((function(e){return Object(h.a)({root:{flexGrow:1},appBar:{backgroundColor:"#fff",color:"#000"},saveButton:{marginLeft:e.spacing(5)},title:{flexGrow:1},paper:{padding:e.spacing(1),color:e.palette.text.secondary,height:"100%"}})}));S.a.initializeApp({apiKey:"AIzaSyAcRmmHUN_Yyqd0al0MSvRz82kIbrHvh-8",authDomain:"hierarchy-28591.firebaseapp.com",databaseURL:"https://hierarchy-28591.firebaseio.com",projectId:"hierarchy-28591",storageBucket:"hierarchy-28591.appspot.com",messagingSenderId:"761635818549",appId:"1:761635818549:web:b6d6fecfd7747c6345f57c",measurementId:"G-TJJF0BJ57G"});var D=S.a.firestore(),H=Object({NODE_ENV:"production",PUBLIC_URL:"/viz",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PATH||"";function L(){return r.a.createElement(I.a,null,r.a.createElement(C.d,null,r.a.createElement(C.b,{path:"".concat(H,"/:docId"),render:function(e){var a=e.match;return r.a.createElement(K,{docId:a.params.docId})}}),r.a.createElement(C.b,{path:H,render:function(){return r.a.createElement(K,{docId:"default"})}})))}function J(e){for(var a="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,r=0;r<e;r++)a+=t.charAt(Math.floor(Math.random()*n));return a}function K(e){var a=e.docId,t=Object(n.useState)(""),c=Object(u.a)(t,2),i=c[0],o=c[1],l=Object(n.useState)(null),p=Object(u.a)(l,2),h=p[0],m=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.collection("graphs").doc(a).get();case 2:n=e.sent,r=null===(t=n.data())||void 0===t?void 0:t.graph,n.exists&&null!==r?(m(null),o(r.replace(/\\n/gi,"\n"))):m("");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),null!==h?r.a.createElement(C.a,{to:"".concat(H,"/").concat(h)}):r.a.createElement(W,{data:i,handleChange:o,handleSave:function(){var e=Object(d.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=J(6),e.next=3,D.collection("graphs").doc(t).set({graph:a});case 3:m(t);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()})}function W(e){var a=e.data,t=e.handleChange,n=e.handleSave,c=P(a),i=R(),l=30*c.tree.length;return r.a.createElement("div",{className:i.root},r.a.createElement(f.a,{container:!0,spacing:1},r.a.createElement(v.a,{position:"static",className:i.appBar},r.a.createElement(g.a,null,r.a.createElement(m.a,{variant:"h6"},"Visualize Hierarchical Data"),r.a.createElement(y.a,{className:i.saveButton,onClick:function(){return n(a)}},r.a.createElement(x.a,null),"save"))),r.a.createElement(f.a,{item:!0,xs:4},r.a.createElement(b.a,{className:i.paper},r.a.createElement(j.a,{mode:"plain_text",placeholder:"Root -> Parent -> Child;",maxLines:100,minLines:55,theme:"github",onChange:function(e){return t(e)},value:a,width:"100%"}))),r.a.createElement(f.a,{item:!0,xs:8},r.a.createElement(b.a,{className:i.paper},r.a.createElement(O.a,{spec:Object(o.a)({},_,{height:l}),data:c})))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.084f77e6.chunk.js.map